Get-ChildItem -Recurse -Include __pycache__ | Remove-Item -Recurse -Force
pip freeze > requirements.txt

C:\Windows\System32\drivers\etc\hosts
127.0.0.1   plataforma.local
127.0.0.1   www.plataforma.local
# (opcionais para testar subdomÃ­nio)
127.0.0.1   annasebba.local
127.0.0.1   loja1.plataforma.local
127.0.0.1   loja2.plataforma.local

sudo nano /etc/hosts

Get-ChildItem -Recurse -Include __pycache__ | Remove-Item -Recurse -Force
pip freeze > requirements.txt

python -m pip install --upgrade pip setuptools wheel
pip install "psycopg2-binary>=2.9.9"

django-admin startproject project .

python manage.py startapp sites

docker compose up -d

docker run --name plataforma_user -e POSTGRES_PASSWORD=Ozoutros@123 -e POSTGRES_DB=plataforma_user -p 5432:5432 -d postgres:16

python manage.py makemigrations
python manage.py migrate_schemas --shared
python manage.py migrate_schemas --tenant


python manage.py create_tenant --schema annasebba --name "Anna Sebba" --domain annasebba.com.br



from datetime import date
from plataforma_sites.models import Client, Domain

tenant = Client.objects.create(
    schema_name="annasebba",
    slug="annasebba",
    name="Anna Sebba",
    paid_until=date(2030,1,1),
    on_trial=False,
)
Domain.objects.create(domain="annasebba.com.br", tenant=tenant, is_primary=True)


>>> from app.models import Client, Domain
>>> tenant = Client(schema_name="public", name="Public")
>>> tenant.save()
>>> domain = Domain(domain="localhost", tenant=tenant, is_primary=True)
>>> domain.save()

python3 manage.py create_tenant --schema annasebba --name "plataforma" --domain-domain annasebba.com.br --no-input

docker start -a plataforma_user